#include <iostream>

#include <TCanvas.h>
#include <TROOT.h>
#include <TApplication.h>
#include <TH1F.h>

#include "MediumMagboltz.hh"
#include "SolidBox.hh"
#include "GeometrySimple.hh"
#include "ComponentConstant.hh"
#include "Sensor.hh"
#include "TrackHeed.hh"
#include "Plotting.hh"
#include "Random.hh"

using namespace Garfield;

int main(int argc, char * argv[]) {

  //set the measurements of the detector
  //len=>cm
  double len_drift = 40; 
  double len_aval = 100.e-4; 
  double diameter = 15.;
  //voltages (V)
  double v_drift = 5000.;
  double v_aval = 300.;

  TApplication app("app", &argc, argv);
  plottingEngine.SetDefaultStyle();

  // Make a medium
  MediumMagboltz* gas = new MediumMagboltz();
  gas->LoadGasFile("ar_93_co2_7.gas");

  // Detector geometry
  // Gap [cm]
  const double width = 1.;
  SolidBox* box = new SolidBox(width / 2., 0., 0., width / 2., 10., 10.);
  GeometrySimple* geo = new GeometrySimple();
  geo->AddSolid(box, gas);

  // Make a component
  ComponentConstant* comp = new ComponentConstant();
  comp->SetGeometry(geo);
  comp->SetElectricField(100., 0., 0.);

  // Make a sensor
  Sensor* sensor = new Sensor();
  sensor->AddComponent(comp);


app.Run(kTRUE); 

}
